(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{364:function(t,s,a){"use strict";a.r(s);var e=a(41),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"event"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#event"}},[t._v("#")]),t._v(" Event")]),t._v(" "),a("p",[t._v("该类有三个属性：")]),t._v(" "),a("ul",[a("li",[t._v("on： 监听消息")]),t._v(" "),a("li",[t._v("onSendMessage: 监听消息发送完成")])]),t._v(" "),a("h2",{attrs:{id:"on"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#on"}},[t._v("#")]),t._v(" on")]),t._v(" "),a("p",[a("code",[t._v("on")]),t._v("方法用于监听指定类型的消息，如创建群消息监听：")]),t._v(" "),a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Bot"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'message.group'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" e "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'收到一条群消息'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("执行顺序 监听器具会根据创建顺序依次执行，可通过返回`true`拦截消息传递")])]),t._v(" "),a("p",[t._v("消息类型和相应如下：")]),t._v(" "),a("h3",{attrs:{id:"websocket初始化完成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#websocket初始化完成"}},[t._v("#")]),t._v(" websocket初始化完成")]),t._v(" "),a("p",[a("strong",[t._v("type")]),t._v(": "),a("code",[t._v("ws.ready")])]),t._v(" "),a("p",[t._v("websocket初次连接成功后触发，该事件用于内部初始化，只会触发一次，请勿使用")]),t._v(" "),a("h3",{attrs:{id:"websocket连接成功"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#websocket连接成功"}},[t._v("#")]),t._v(" websocket连接成功")]),t._v(" "),a("p",[a("strong",[t._v("type")]),t._v(": "),a("code",[t._v("ws.connect")])]),t._v(" "),a("p",[t._v("websocket连接成功后触发")]),t._v(" "),a("h3",{attrs:{id:"websocket连接断开"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#websocket连接断开"}},[t._v("#")]),t._v(" websocket连接断开")]),t._v(" "),a("p",[a("strong",[t._v("type")]),t._v(": "),a("code",[t._v("ws.connect")])]),t._v(" "),a("p",[t._v("websocket连接断开后触发")]),t._v(" "),a("h3",{attrs:{id:"websocket连接错误"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#websocket连接错误"}},[t._v("#")]),t._v(" websocket连接错误")]),t._v(" "),a("p",[a("strong",[t._v("type")]),t._v(": "),a("code",[t._v("ws.error")])]),t._v(" "),a("p",[a("strong",[t._v("响应")]),t._v("："),a("code",[t._v("Error")])]),t._v(" "),a("p",[t._v("websocket连接发生错误后触发")]),t._v(" "),a("h3",{attrs:{id:"私聊信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#私聊信息"}},[t._v("#")]),t._v(" 私聊信息")]),t._v(" "),a("p",[a("strong",[t._v("type")]),t._v(": "),a("code",[t._v("message.private")])]),t._v(" "),a("h3",{attrs:{id:"群消息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#群消息"}},[t._v("#")]),t._v(" 群消息")]),t._v(" "),a("p",[a("strong",[t._v("type")]),t._v(": "),a("code",[t._v("message.group")])]),t._v(" "),a("h3",{attrs:{id:"群文件上传"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#群文件上传"}},[t._v("#")]),t._v(" 群文件上传")]),t._v(" "),a("p",[a("strong",[t._v("type")]),t._v(": "),a("code",[t._v("notice.group_upload")])]),t._v(" "),a("h3",{attrs:{id:"群管理员变动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#群管理员变动"}},[t._v("#")]),t._v(" 群管理员变动")]),t._v(" "),a("p",[a("strong",[t._v("type")]),t._v(": "),a("code",[t._v("notice.group_admin")])]),t._v(" "),a("h3",{attrs:{id:"群成员减少"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#群成员减少"}},[t._v("#")]),t._v(" 群成员减少")]),t._v(" "),a("p",[a("strong",[t._v("type")]),t._v(": "),a("code",[t._v("notice.group_decrease")])]),t._v(" "),a("h3",{attrs:{id:"群成员增加"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#群成员增加"}},[t._v("#")]),t._v(" 群成员增加")]),t._v(" "),a("p",[a("strong",[t._v("type")]),t._v(": "),a("code",[t._v("notice.group_increase")])]),t._v(" "),a("h3",{attrs:{id:"群禁言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#群禁言"}},[t._v("#")]),t._v(" 群禁言")]),t._v(" "),a("p",[a("strong",[t._v("type")]),t._v(": "),a("code",[t._v("notice.group_ban")])]),t._v(" "),a("h3",{attrs:{id:"好友添加"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#好友添加"}},[t._v("#")]),t._v(" 好友添加")]),t._v(" "),a("p",[a("strong",[t._v("type")]),t._v(": "),a("code",[t._v("notice.friend_add")])]),t._v(" "),a("h3",{attrs:{id:"群消息撤回"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#群消息撤回"}},[t._v("#")]),t._v(" 群消息撤回")]),t._v(" "),a("p",[a("strong",[t._v("type")]),t._v(": "),a("code",[t._v("notice.group_recall")])]),t._v(" "),a("h3",{attrs:{id:"好友消息撤回"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#好友消息撤回"}},[t._v("#")]),t._v(" 好友消息撤回")]),t._v(" "),a("p",[a("strong",[t._v("type")]),t._v(": "),a("code",[t._v("notice.friend_recall")])]),t._v(" "),a("h3",{attrs:{id:"群内提示事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#群内提示事件"}},[t._v("#")]),t._v(" 群内提示事件")]),t._v(" "),a("p",[a("strong",[t._v("type")]),t._v(": "),a("code",[t._v("notice.notify")])]),t._v(" "),a("p",[t._v("龙王等事件")]),t._v(" "),a("h3",{attrs:{id:"群成员名片更新"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#群成员名片更新"}},[t._v("#")]),t._v(" 群成员名片更新")]),t._v(" "),a("p",[a("strong",[t._v("type")]),t._v(": "),a("code",[t._v("notice.group_card")])]),t._v(" "),a("h3",{attrs:{id:"接收到离线文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#接收到离线文件"}},[t._v("#")]),t._v(" 接收到离线文件")]),t._v(" "),a("p",[a("strong",[t._v("type")]),t._v(": "),a("code",[t._v("notice.offline_file")])]),t._v(" "),a("h3",{attrs:{id:"加好友请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#加好友请求"}},[t._v("#")]),t._v(" 加好友请求")]),t._v(" "),a("p",[a("strong",[t._v("type")]),t._v(": "),a("code",[t._v("request.friend")])]),t._v(" "),a("h3",{attrs:{id:"加群请求-邀请"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#加群请求-邀请"}},[t._v("#")]),t._v(" 加群请求/邀请")]),t._v(" "),a("p",[a("strong",[t._v("type")]),t._v(": "),a("code",[t._v("request.group")])]),t._v(" "),a("h3",{attrs:{id:"其他客户端在线状态变更"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他客户端在线状态变更"}},[t._v("#")]),t._v(" 其他客户端在线状态变更")]),t._v(" "),a("p",[a("strong",[t._v("type")]),t._v(": "),a("code",[t._v("notice.client_status")])]),t._v(" "),a("h3",{attrs:{id:"精华消息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#精华消息"}},[t._v("#")]),t._v(" 精华消息")]),t._v(" "),a("p",[a("strong",[t._v("type")]),t._v(": "),a("code",[t._v("notice.essence")])]),t._v(" "),a("h3",{attrs:{id:"心跳事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#心跳事件"}},[t._v("#")]),t._v(" 心跳事件")]),t._v(" "),a("p",[a("strong",[t._v("type")]),t._v(": "),a("code",[t._v("meta_event.heartbeat")])]),t._v(" "),a("h3",{attrs:{id:"列表外事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#列表外事件"}},[t._v("#")]),t._v(" 列表外事件")]),t._v(" "),a("p",[t._v("其它事件可用符合事件格式的字符串")]),t._v(" "),a("h2",{attrs:{id:"onsendmessage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#onsendmessage"}},[t._v("#")]),t._v(" onSendMessage")]),t._v(" "),a("p",[a("code",[t._v("onSendMessage")]),t._v("方法用于监听消息发送完成，如创建群消息发送完成监听：")]),t._v(" "),a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Bot"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onSendMessage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sendGroupMsg'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" e "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'发送了一条群消息'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("类型可为"),a("strong",[t._v("sendPrivateMsg")]),t._v("或"),a("strong",[t._v("sendGroupMsg")]),t._v("，分别为"),a("strong",[t._v("私聊发送完成")]),t._v("和"),a("strong",[t._v("群聊发送完成")]),t._v("事件")])])}),[],!1,null,null,null);s.default=r.exports}}]);